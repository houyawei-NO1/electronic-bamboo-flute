C251 COMPILER V5.60.0,  gpio_interrupt                                                     19/07/24  17:41:59  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE gpio_interrupt
OBJECT MODULE PLACED IN .\Objects\gpio_interrupt.obj
COMPILER INVOKED BY: D:\Keil_v5\C251\BIN\C251.EXE usr\gpio_interrupt.c XSMALL INTR2 BROWSE DEBUG PRINT(.\Listings\gpio_i
                    -nterrupt.lst) OBJECT(.\Objects\gpio_interrupt.obj) 

stmt  level    source

    1          #include   "gpio_interrupt.h"
    2          
    3          /*************  ¹¦ÄÜËµÃ÷        **************
    4          
    5          ÇëÏÈ±ðÐÞ¸Ä³ÌÐò, Ö±½ÓÏÂÔØ"Objects"ÀïµÄ"interrupt.hex"²âÊÔ, Ö÷ÆµÑ¡Ôñ11.0592MHZ. ²âÊÔÕý³£ºóÔÙÐÞ¸ÄÒÆÖ².
    6          ÓÉÓÚÊ¹ÓÃµÄÖÐ¶ÏºÅ³¬¹ýÁË31£¬ËùÒÔKEIL C251±àÒëÆ÷ÒªÍØÕ¹KeilµÄC´úÂëÖÐ¶ÏºÅ, ÔËÐÐÒ»ÏÂ"ÍØÕ¹KeilµÄC´úÂëÖÐ¶ÏºÅ.exe"
             -¼´¿É¡£
    7          
    8          P0~P7ËùÓÐIOÖÐ¶Ï²âÊÔ³ÌÐò.
    9          P0.0~P0.7ÖÐ¶Ï¶ÔÓ¦È¡·´P1.0~P1.7Êä³öÖ¸Ê¾¡£
   10          P1.0~P1.7ÖÐ¶Ï¶ÔÓ¦È¡·´P0.0~P0.7Êä³öÖ¸Ê¾¡£
   11          P2.0~P2.7ÖÐ¶Ï¶ÔÓ¦È¡·´P4.0~P4.7Êä³öÖ¸Ê¾¡£
   12          P3.0~P3.7ÖÐ¶Ï¶ÔÓ¦È¡·´P4.0~P4.7Êä³öÖ¸Ê¾¡£
   13          P4.0~P4.7ÖÐ¶Ï¶ÔÓ¦È¡·´P2.0~P2.7Êä³öÖ¸Ê¾¡£
   14          P5.0~P5.7ÖÐ¶Ï¶ÔÓ¦È¡·´P4.0~P4.7Êä³öÖ¸Ê¾¡£
   15          P6.0~P6.7ÖÐ¶Ï¶ÔÓ¦È¡·´P7.0~P7.7Êä³öÖ¸Ê¾¡£
   16          P7.0~P7.7ÖÐ¶Ï¶ÔÓ¦È¡·´P6.0~P6.7Êä³öÖ¸Ê¾¡£
   17          
   18          ÓÉÓÚIOÓÐÏÞ, ±¾Àý×ÓÖ»ÉèÖÃÁËP0.0~P0.7ºÍP2.0~P2.7µÄÖÐ¶Ï, ÖÐ¶Ïº¯Êý·Ö±ðÈ¡·´P1.0~P1.7ºÍP4.0~P4.7À´Ö¸Ê¾½øÈëÖÐ¶Ï.
   19          ÓÃ»§¿ÉÒÔ¸ù¾ÝÀý×ÓËæÒâÉèÖÃ×Ô¼ºÐèÒªµÄIOÖÐ¶Ï.
   20          Ö÷º¯ÊýÈ¡·´P3.3Êä³öÒ»¸ö·½²¨ÐÅºÅ, ·½±ãÓÃ»§²âÊÔ.
   21          
   22          ******************************************/
   23          
   24          /*************  ±¾µØ³£Á¿ÉùÃ÷    **************/
   25          
   26          
   27          /*************  ±¾µØ±äÁ¿ÉùÃ÷    **************/
   28          
   29          
   30          /*************  ±¾µØº¯ÊýÉùÃ÷    **************/
   31          
   32          
   33          
   34          
   35          /*************  Íâ²¿º¯ÊýºÍ±äÁ¿ÉùÃ÷ *****************/
   36          //GPIO_INT_Config(GPIO_P0, INT_FALL, Pin0 | Pin1 | Pin2 | Pin3);        //ÆÕÍ¨IOÖÐ¶ÏÅäÖÃº¯Êý, ÖÐ¶ÏÄ£Ê½(Ö»È¡ÆäÒ»)
             -: INT_FALL, INT_RISE, INT_LOW, INT_HIGH. ·Ö±ðÊÇ ÉÏÉýÑØ ÏÂ½µÑØ µÍµçÆ½  ¸ßµçÆ½ ÖÐ¶Ï.
   37          //      GPIO_INT_Config(GPIO_P0, INT_RISE, Pin4 | Pin5 | Pin6 | Pin7);  //ÆÕÍ¨IOÖÐ¶ÏÅäÖÃº¯Êý, ÖÐ¶ÏÄ£Ê½(Ö»È¡ÆäÒ»
             -): INT_FALL, INT_RISE, INT_LOW, INT_HIGH. ·Ö±ðÊÇ ÉÏÉýÑØ ÏÂ½µÑØ µÍµçÆ½  ¸ßµçÆ½ ÖÐ¶Ï.
   38          ////    GPIO_INT_Config(GPIO_P1, INT_FALL, PinAll);             //ÆÕÍ¨IOÖÐ¶ÏÅäÖÃº¯Êý, ÖÐ¶ÏÄ£Ê½(Ö»È¡ÆäÒ»): INT_FALL, INT
             -_RISE, INT_LOW, INT_HIGH. ·Ö±ðÊÇ ÉÏÉýÑØ ÏÂ½µÑØ µÍµçÆ½  ¸ßµçÆ½ ÖÐ¶Ï.
   39          //      GPIO_INT_Config(GPIO_P2, INT_FALL, PinAll);             //ÆÕÍ¨IOÖÐ¶ÏÅäÖÃº¯Êý, ÖÐ¶ÏÄ£Ê½(Ö»È¡ÆäÒ»): INT_FALL, INT_R
             -ISE, INT_LOW, INT_HIGH. ·Ö±ðÊÇ ÉÏÉýÑØ ÏÂ½µÑØ µÍµçÆ½  ¸ßµçÆ½ ÖÐ¶Ï.
   40          ////    GPIO_INT_Config(GPIO_P3, INT_FALL, PinAll);             //ÆÕÍ¨IOÖÐ¶ÏÅäÖÃº¯Êý, ÖÐ¶ÏÄ£Ê½(Ö»È¡ÆäÒ»): INT_FALL, INT
             -_RISE, INT_LOW, INT_HIGH. ·Ö±ðÊÇ ÉÏÉýÑØ ÏÂ½µÑØ µÍµçÆ½  ¸ßµçÆ½ ÖÐ¶Ï.
   41          ////    GPIO_INT_Config(GPIO_P4, INT_FALL, PinAll);             //ÆÕÍ¨IOÖÐ¶ÏÅäÖÃº¯Êý, ÖÐ¶ÏÄ£Ê½(Ö»È¡ÆäÒ»): INT_FALL, INT
             -_RISE, INT_LOW, INT_HIGH. ·Ö±ðÊÇ ÉÏÉýÑØ ÏÂ½µÑØ µÍµçÆ½  ¸ßµçÆ½ ÖÐ¶Ï.
   42          ////    GPIO_INT_Config(GPIO_P5, INT_FALL, PinAll);             //ÆÕÍ¨IOÖÐ¶ÏÅäÖÃº¯Êý, ÖÐ¶ÏÄ£Ê½(Ö»È¡ÆäÒ»): INT_FALL, INT
             -_RISE, INT_LOW, INT_HIGH. ·Ö±ðÊÇ ÉÏÉýÑØ ÏÂ½µÑØ µÍµçÆ½  ¸ßµçÆ½ ÖÐ¶Ï.
   43          ////    GPIO_INT_Config(GPIO_P6, INT_FALL, PinAll);             //ÆÕÍ¨IOÖÐ¶ÏÅäÖÃº¯Êý, ÖÐ¶ÏÄ£Ê½(Ö»È¡ÆäÒ»): INT_FALL, INT
             -_RISE, INT_LOW, INT_HIGH. ·Ö±ðÊÇ ÉÏÉýÑØ ÏÂ½µÑØ µÍµçÆ½  ¸ßµçÆ½ ÖÐ¶Ï.
   44          ////    GPIO_INT_Config(GPIO_P7, INT_FALL, PinAll);             //ÆÕÍ¨IOÖÐ¶ÏÅäÖÃº¯Êý, ÖÐ¶ÏÄ£Ê½(Ö»È¡ÆäÒ»): INT_FALL, INT
             -_RISE, INT_LOW, INT_HIGH. ·Ö±ðÊÇ ÉÏÉýÑØ ÏÂ½µÑØ µÍµçÆ½  ¸ßµçÆ½ ÖÐ¶Ï.
   45          
   46          
   47          //========================================================================
   48          // º¯Êý: void   GPIO_INT_Config(u8 gpio, u8 pin, u8 mode)
C251 COMPILER V5.60.0,  gpio_interrupt                                                     19/07/24  17:41:59  PAGE 2   

   49          // ÃèÊö: IOÖÐ¶Ï³õÊ¼»¯º¯Êý.
   50          // ²ÎÊý: gpio: Òª³õÊ¼»¯µÄIO×é, ²ÎÊýÈ¡Öµ(Ö»È¡ÆäÒ»): GPIO_P0, GPIO_P1, GPIO_P2, GPIO_P3, GPIO_P4, GPIO_P5, 
             -GPIO_P6, GPIO_P7, GPIO_P8, GPIO_P9.
   51          //       mode: ÖÐ¶ÏÄ£Ê½,       ²ÎÊýÈ¡Öµ(Ö»È¡ÆäÒ»): INT_FALL, INT_RISE, INT_LOW, INT_HIGH. ·Ö±ðÊÇ ÉÏÉýÑØ Ï
             -Â½µÑØ µÍµçÆ½  ¸ßµçÆ½ ÖÐ¶Ï.
   52          //       pin:  Òª³õÊ¼»¯µÄÒý½Å, ²ÎÊýÈ¡Öµ(¶à¸öÖµÊ±ÓÃ»ò²Ù×÷): Pin0, Pin1, Pin2, Pin3, Pin4, Pin5, Pin6, Pin7
             -. PinAll.
   53          // ·µ»Ø: none.
   54          // °æ±¾: VER1.0
   55          // ÈÕÆÚ: 2020-5-20
   56          // ±¸×¢:
   57          //========================================================================
   58          void    GPIO_INT_Config(u8 gpio, u8 mode, u8 pin)
   59          {
   60   1              u8      volatile far *pt;
   61   1              u8      j;
   62   1      
   63   1              if(gpio > GPIO_P7)      return; //IO¿Ú´íÎó
   64   1              if(mode >= 4)           return; //Ä£Ê½´íÎó
   65   1              P_SW2 |= 0x80;                  //·ÃÎÊXFR
   66   1      
   67   1              pt  = (unsigned char volatile far *)(0x7efd10 + gpio);  //PxINTF¶Ë¿ÚÖÐ¶Ï±êÖ¾¼Ä´æÆ÷
   68   1              *pt = *pt & ~pin;       //Çå³ýÖÐ¶Ï±êÖ¾
   69   1      
   70   1              pt  = (unsigned char volatile far *)(0x7efd30 + gpio);  //PxIM1¶Ë¿ÚÖÐ¶ÏÄ£Ê½ÅäÖÃ¼Ä´æÆ÷1
   71   1              if(mode & 0x02) j = 0xff & pin; //ÉèÖÃÄ£Ê½
   72   1              else                    j = 0;
   73   1              *pt = (*pt & ~pin) | j;
   74   1      
   75   1              pt  = (unsigned char volatile far *)(0x7efd20 + gpio);  //PxIM0¶Ë¿ÚÖÐ¶ÏÄ£Ê½ÅäÖÃ¼Ä´æÆ÷0
   76   1              if(mode & 0x01) j = 0xff & pin;
   77   1              else                    j = 0;
   78   1              *pt = (*pt & ~pin) | j;
   79   1      
   80   1              pt  = (unsigned char volatile far *)(0x7efd00 + gpio);  //PxINTE¶Ë¿ÚÖÐ¶ÏÊ¹ÄÜ¼Ä´æÆ÷
   81   1              *pt |= pin;                             //ÔÊÐíIOÖÐ¶Ï
   82   1      }
   83          
   84          
   85          
   86          //========================================================================
   87          // º¯Êý: void   P0INT_ISR(void) interrupt 37
   88          // ÃèÊö: P0(P0.0~P0.7)ÖÐ¶Ï´¦Àíº¯Êý.
   89          // ²ÎÊý: none.
   90          // ·µ»Ø: none.
   91          // °æ±¾: VER1.0
   92          // ÈÕÆÚ: 2020-5-20
   93          // ±¸×¢:
   94          //========================================================================
   95          void    P0INT_ISR(void) interrupt 37    //P0.0~P0.7 IOÖÐ¶Ï´¦Àí´úÂë
   96          {
   97   1              u8      i;
   98   1              i = P0INTF;             //¶ÁÈ¡ÖÐ¶Ï±êÖ¾
   99   1              P0INTF &= ~i;   //Çå³ýÖÐ¶Ï±êÖ¾
  100   1      
  101   1              if((i & INTF_0) != 0)   //P0.0ÖÐ¶Ï
  102   1              {
  103   2      //              printf("ÖÐ¶ÏP00:%hd\r\n",P00);
  104   2                      six_f=1;
  105   2                      
  106   2              }
  107   1              if((i & INTF_1) != 0)   //P0.1ÖÐ¶Ï
  108   1              {
  109   2      //              printf("ÖÐ¶ÏP01:%hd\r\n",P01);
  110   2                      three_f = 1;
  111   2              }
C251 COMPILER V5.60.0,  gpio_interrupt                                                     19/07/24  17:41:59  PAGE 3   

  112   1              if((i & INTF_2) != 0)   //P0.2ÖÐ¶Ï
  113   1              {
  114   2      //              printf("ÖÐ¶ÏP02:%hd\r\n",P02);
  115   2                      high_f = 1;
  116   2                      
  117   2              }
  118   1              if((i & INTF_3) != 0)   //P0.3ÖÐ¶Ï
  119   1              {
  120   2      //              printf("ÖÐ¶ÏP03:%hd\r\n",P03);
  121   2                      low_f  =1;
  122   2                      
  123   2              }
  124   1              if((i & INTF_4) != 0)   //P0.4ÖÐ¶Ï
  125   1              {
  126   2                      
  127   2              }
  128   1              if((i & INTF_5) != 0)   //P0.5ÖÐ¶Ï
  129   1              {
  130   2                      
  131   2              }
  132   1              if((i & INTF_6) != 0)   //P0.6ÖÐ¶Ï
  133   1              {
  134   2                      
  135   2              }
  136   1              if((i & INTF_7) != 0)   //P0.7ÖÐ¶Ï
  137   1              {
  138   2                      
  139   2              }
  140   1              
  141   1              
  142   1              EA = 0;
  143   1              delay_ms(20);
  144   1              EA = 1;
  145   1      }
  146          
  147          //========================================================================
  148          // º¯Êý: void   P1INT_ISR(void) interrupt 38
  149          // ÃèÊö: P1(P1.0~P1.7)ÖÐ¶Ï´¦Àíº¯Êý.
  150          // ²ÎÊý: none.
  151          // ·µ»Ø: none.
  152          // °æ±¾: VER1.0
  153          // ÈÕÆÚ: 2020-5-20
  154          // ±¸×¢:
  155          //========================================================================
  156          void    P1INT_ISR(void) interrupt 38            //P1.0~P1.7 IOÖÐ¶Ï´¦Àí´úÂë
  157          {
  158   1              u8      i;
  159   1              i = P1INTF;             //¶ÁÈ¡ÖÐ¶Ï±êÖ¾
  160   1              P1INTF &= ~i;   //Çå³ýÖÐ¶Ï±êÖ¾
  161   1      
  162   1              if((i & INTF_0) != 0)   //P1.0ÖÐ¶Ï
  163   1              {
  164   2                      P00 = ~P00;                     //È¡·´P0.0Ö¸Ê¾
  165   2              }
  166   1              if((i & INTF_1) != 0)   //P1.1ÖÐ¶Ï
  167   1              {
  168   2                      P01 = ~P01;                     //È¡·´P0.1Ö¸Ê¾
  169   2              }
  170   1              if((i & INTF_2) != 0)   //P1.2ÖÐ¶Ï
  171   1              {
  172   2                      P02 = ~P02;                     //È¡·´P0.2Ö¸Ê¾
  173   2              }
  174   1              if((i & INTF_3) != 0)   //P1.3ÖÐ¶Ï
  175   1              {
  176   2                      P03 = ~P03;                     //È¡·´P0.3Ö¸Ê¾
  177   2              }
C251 COMPILER V5.60.0,  gpio_interrupt                                                     19/07/24  17:41:59  PAGE 4   

  178   1              if((i & INTF_4) != 0)   //P1.4ÖÐ¶Ï
  179   1              {
  180   2                      P04 = ~P04;                     //È¡·´P0.4Ö¸Ê¾
  181   2              }
  182   1              if((i & INTF_5) != 0)   //P1.5ÖÐ¶Ï
  183   1              {
  184   2                      P05 = ~P05;                     //È¡·´P0.5Ö¸Ê¾
  185   2              }
  186   1              if((i & INTF_6) != 0)   //P1.6ÖÐ¶Ï
  187   1              {
  188   2                      P06 = ~P06;                     //È¡·´P0.6Ö¸Ê¾
  189   2              }
  190   1              if((i & INTF_7) != 0)   //P1.7ÖÐ¶Ï
  191   1              {
  192   2                      P07 = ~P07;                     //È¡·´P0.7Ö¸Ê¾
  193   2              }
  194   1      }
  195          
  196          //========================================================================
  197          // º¯Êý: void   P2INT_ISR(void) interrupt 39
  198          // ÃèÊö: P2(P2.0~P2.7)ÖÐ¶Ï´¦Àíº¯Êý.
  199          // ²ÎÊý: none.
  200          // ·µ»Ø: none.
  201          // °æ±¾: VER1.0
  202          // ÈÕÆÚ: 2020-5-20
  203          // ±¸×¢:
  204          //========================================================================
  205          void    P2INT_ISR(void) interrupt 39            //P2.0~P2.7 IOÖÐ¶Ï´¦Àí´úÂë
  206          {
  207   1              u8      i;
  208   1              i = P2INTF;             //¶ÁÈ¡ÖÐ¶Ï±êÖ¾
  209   1              P2INTF &= ~i;   //Çå³ýÖÐ¶Ï±êÖ¾
  210   1      
  211   1              if((i & INTF_0) != 0)   //P2.0ÖÐ¶Ï
  212   1              {
  213   2                      
  214   2              }
  215   1              if((i & INTF_1) != 0)   //P2.1ÖÐ¶Ï
  216   1              {
  217   2                      
  218   2              }
  219   1              if((i & INTF_2) != 0)   //P2.2ÖÐ¶Ï
  220   1              {
  221   2                      
  222   2              }
  223   1              if((i & INTF_3) != 0)   //P2.3ÖÐ¶Ï
  224   1              {
  225   2                      
  226   2              }
  227   1              if((i & INTF_4) != 0)   //P2.4ÖÐ¶Ï
  228   1              {
  229   2      //              printf("ÖÐ¶ÏP24:%hd\r\n",P24);
  230   2                      four_f =1;
  231   2              }
  232   1              if((i & INTF_5) != 0)   //P2.5ÖÐ¶Ï
  233   1              {
  234   2      //              printf("ÖÐ¶ÏP25:%hd\r\n",P25);
  235   2                      one_f = 1;
  236   2              }
  237   1              if((i & INTF_6) != 0)   //P2.6ÖÐ¶Ï
  238   1              {
  239   2      //              printf("ÖÐ¶ÏP26:%hd\r\n",P26);
  240   2                      five_f = 1;
  241   2              }
  242   1              if((i & INTF_7) != 0)   //P2.7ÖÐ¶Ï
  243   1              {
C251 COMPILER V5.60.0,  gpio_interrupt                                                     19/07/24  17:41:59  PAGE 5   

  244   2      //              printf("ÖÐ¶ÏP27:%hd\r\n",P27);
  245   2                      two_f = 1;
  246   2              }
  247   1              
  248   1              EA = 0;
  249   1              delay_ms(20);
  250   1              EA = 1;
  251   1      }
  252          
  253          //========================================================================
  254          // º¯Êý: void   P3INT_ISR(void) interrupt 40
  255          // ÃèÊö: P3(P3.0~P3.7)ÖÐ¶Ï´¦Àíº¯Êý.
  256          // ²ÎÊý: none.
  257          // ·µ»Ø: none.
  258          // °æ±¾: VER1.0
  259          // ÈÕÆÚ: 2020-5-20
  260          // ±¸×¢:
  261          //========================================================================
  262          void    P3INT_ISR(void) interrupt 40            //P3.0~P3.7 IOÖÐ¶Ï´¦Àí´úÂë
  263          {
  264   1              u8      i;
  265   1              i = P3INTF;             //¶ÁÈ¡ÖÐ¶Ï±êÖ¾
  266   1              P3INTF &= ~i;   //Çå³ýÖÐ¶Ï±êÖ¾
  267   1      
  268   1              if((i & INTF_0) != 0)   //P3.0ÖÐ¶Ï
  269   1              {
  270   2                      P40 = ~P40;                     //È¡·´P4.0Ö¸Ê¾
  271   2              }
  272   1              if((i & INTF_1) != 0)   //P3.1ÖÐ¶Ï
  273   1              {
  274   2                      P41 = ~P41;                     //È¡·´P4.1Ö¸Ê¾
  275   2              }
  276   1              if((i & INTF_2) != 0)   //P3.2ÖÐ¶Ï
  277   1              {
  278   2                      P42 = ~P42;                     //È¡·´P4.2Ö¸Ê¾
  279   2              }
  280   1              if((i & INTF_3) != 0)   //P3.3ÖÐ¶Ï
  281   1              {
  282   2                      P43 = ~P43;                     //È¡·´P4.3Ö¸Ê¾
  283   2              }
  284   1              if((i & INTF_4) != 0)   //P3.4ÖÐ¶Ï
  285   1              {
  286   2                      P44 = ~P44;                     //È¡·´P4.4Ö¸Ê¾
  287   2              }
  288   1              if((i & INTF_5) != 0)   //P3.5ÖÐ¶Ï
  289   1              {
  290   2                      P45 = ~P45;                     //È¡·´P4.5Ö¸Ê¾
  291   2              }
  292   1              if((i & INTF_6) != 0)   //P3.6ÖÐ¶Ï
  293   1              {
  294   2                      P46 = ~P46;                     //È¡·´P4.6Ö¸Ê¾
  295   2              }
  296   1              if((i & INTF_7) != 0)   //P3.7ÖÐ¶Ï
  297   1              {
  298   2                      P47 = ~P47;                     //È¡·´P4.7Ö¸Ê¾
  299   2              }
  300   1      }
  301          
  302          //========================================================================
  303          // º¯Êý: void   P4INT_ISR(void) interrupt 41
  304          // ÃèÊö: P4(P4.0~P4.7)ÖÐ¶Ï´¦Àíº¯Êý.
  305          // ²ÎÊý: none.
  306          // ·µ»Ø: none.
  307          // °æ±¾: VER1.0
  308          // ÈÕÆÚ: 2020-5-20
  309          // ±¸×¢:
C251 COMPILER V5.60.0,  gpio_interrupt                                                     19/07/24  17:41:59  PAGE 6   

  310          //========================================================================
  311          void    P4INT_ISR(void) interrupt 41            //P4.0~P4.7 IOÖÐ¶Ï´¦Àí´úÂë
  312          {
  313   1              u8      i;
  314   1              i = P4INTF;             //¶ÁÈ¡ÖÐ¶Ï±êÖ¾
  315   1              P4INTF &= ~i;   //Çå³ýÖÐ¶Ï±êÖ¾
  316   1      
  317   1              if((i & INTF_0) != 0)   //P4.0ÖÐ¶Ï
  318   1              {
  319   2                      P20 = ~P20;                     //È¡·´P2.0Ö¸Ê¾
  320   2              }
  321   1              if((i & INTF_1) != 0)   //P4.1ÖÐ¶Ï
  322   1              {
  323   2                      P21 = ~P21;                     //È¡·´P2.1Ö¸Ê¾
  324   2              }
  325   1              if((i & INTF_2) != 0)   //P4.2ÖÐ¶Ï
  326   1              {
  327   2                      P22 = ~P22;                     //È¡·´P2.2Ö¸Ê¾
  328   2              }
  329   1              if((i & INTF_3) != 0)   //P4.3ÖÐ¶Ï
  330   1              {
  331   2                      P23 = ~P23;                     //È¡·´P2.3Ö¸Ê¾
  332   2              }
  333   1              if((i & INTF_4) != 0)   //P4.4ÖÐ¶Ï
  334   1              {
  335   2                      P24 = ~P24;                     //È¡·´P2.4Ö¸Ê¾
  336   2              }
  337   1              if((i & INTF_5) != 0)   //P4.5ÖÐ¶Ï
  338   1              {
  339   2                      P25 = ~P25;                     //È¡·´P2.5Ö¸Ê¾
  340   2              }
  341   1              if((i & INTF_6) != 0)   //P4.6ÖÐ¶Ï
  342   1              {
  343   2                      P26 = ~P26;                     //È¡·´P2.6Ö¸Ê¾
  344   2              }
  345   1              if((i & INTF_7) != 0)   //P4.7ÖÐ¶Ï
  346   1              {
  347   2                      P27 = ~P27;                     //È¡·´P2.7Ö¸Ê¾
  348   2              }
  349   1      }
  350          
  351          //========================================================================
  352          // º¯Êý: void   P5INT_ISR(void) interrupt 42
  353          // ÃèÊö: P5(P5.0~P5.4)ÖÐ¶Ï´¦Àíº¯Êý.
  354          // ²ÎÊý: none.
  355          // ·µ»Ø: none.
  356          // °æ±¾: VER1.0
  357          // ÈÕÆÚ: 2020-5-20
  358          // ±¸×¢:
  359          //========================================================================
  360          void    P5INT_ISR(void) interrupt 42            //P5.0~P5.4 IOÖÐ¶Ï´¦Àí´úÂë
  361          {
  362   1              u8      i;
  363   1              i = P5INTF;             //¶ÁÈ¡ÖÐ¶Ï±êÖ¾
  364   1              P5INTF &= ~i;   //Çå³ýÖÐ¶Ï±êÖ¾
  365   1      
  366   1              if((i & INTF_0) != 0)   //P5.0ÖÐ¶Ï
  367   1              {
  368   2                      P40 = ~P40;                     //È¡·´P4.0Ö¸Ê¾
  369   2              }
  370   1              if((i & INTF_1) != 0)   //P5.1ÖÐ¶Ï
  371   1              {
  372   2                      P41 = ~P41;                     //È¡·´P4.1Ö¸Ê¾
  373   2              }
  374   1              if((i & INTF_2) != 0)   //P5.2ÖÐ¶Ï
  375   1              {
C251 COMPILER V5.60.0,  gpio_interrupt                                                     19/07/24  17:41:59  PAGE 7   

  376   2                      P42 = ~P42;                     //È¡·´P4.2Ö¸Ê¾
  377   2              }
  378   1              if((i & INTF_3) != 0)   //P5.3ÖÐ¶Ï
  379   1              {
  380   2                      P43 = ~P43;                     //È¡·´P4.3Ö¸Ê¾
  381   2              }
  382   1              if((i & INTF_4) != 0)   //P5.4ÖÐ¶Ï
  383   1              {
  384   2                      P44 = ~P44;                     //È¡·´P4.4Ö¸Ê¾
  385   2              }
  386   1              if((i & INTF_5) != 0)   //P5.5ÖÐ¶Ï
  387   1              {
  388   2                      P45 = ~P45;                     //È¡·´P4.5Ö¸Ê¾
  389   2              }
  390   1      }
  391          
  392          //========================================================================
  393          // º¯Êý: void   P6INT_ISR(void) interrupt 43
  394          // ÃèÊö: P6(P6.0~P6.7)ÖÐ¶Ï´¦Àíº¯Êý.
  395          // ²ÎÊý: none.
  396          // ·µ»Ø: none.
  397          // °æ±¾: VER1.0
  398          // ÈÕÆÚ: 2020-5-20
  399          // ±¸×¢:
  400          //========================================================================
  401          void    P6INT_ISR(void) interrupt 43            //P6.0~P6.7 IOÖÐ¶Ï´¦Àí´úÂë
  402          {
  403   1              u8      i;
  404   1              i = P6INTF;             //¶ÁÈ¡ÖÐ¶Ï±êÖ¾
  405   1              P6INTF &= ~i;   //Çå³ýÖÐ¶Ï±êÖ¾
  406   1      
  407   1              if((i & INTF_0) != 0)   //P6.0ÖÐ¶Ï
  408   1              {
  409   2                      P70 = ~P70;                     //È¡·´P7.0Ö¸Ê¾
  410   2              }
  411   1              if((i & INTF_1) != 0)   //P6.1ÖÐ¶Ï
  412   1              {
  413   2                      P71 = ~P71;                     //È¡·´P7.1Ö¸Ê¾
  414   2              }
  415   1              if((i & INTF_2) != 0)   //P6.2ÖÐ¶Ï
  416   1              {
  417   2                      P72 = ~P72;                     //È¡·´P7.2Ö¸Ê¾
  418   2              }
  419   1              if((i & INTF_3) != 0)   //P6.3ÖÐ¶Ï
  420   1              {
  421   2                      P73 = ~P73;                     //È¡·´P7.3Ö¸Ê¾
  422   2              }
  423   1              if((i & INTF_4) != 0)   //P6.4ÖÐ¶Ï
  424   1              {
  425   2                      P74 = ~P74;                     //È¡·´P7.4Ö¸Ê¾
  426   2              }
  427   1              if((i & INTF_5) != 0)   //P6.5ÖÐ¶Ï
  428   1              {
  429   2                      P75 = ~P75;                     //È¡·´P7.5Ö¸Ê¾
  430   2              }
  431   1              if((i & INTF_6) != 0)   //P6.6ÖÐ¶Ï
  432   1              {
  433   2                      P76 = ~P76;                     //È¡·´P7.6Ö¸Ê¾
  434   2              }
  435   1              if((i & INTF_7) != 0)   //P6.7ÖÐ¶Ï
  436   1              {
  437   2                      P77 = ~P77;                     //È¡·´P7.7Ö¸Ê¾
  438   2              }
  439   1      }
  440          
  441          //========================================================================
C251 COMPILER V5.60.0,  gpio_interrupt                                                     19/07/24  17:41:59  PAGE 8   

  442          // º¯Êý: void   P7INT_ISR(void) interrupt 44
  443          // ÃèÊö: P0(P7.0~P7.7)ÖÐ¶Ï´¦Àíº¯Êý.
  444          // ²ÎÊý: none.
  445          // ·µ»Ø: none.
  446          // °æ±¾: VER1.0
  447          // ÈÕÆÚ: 2020-5-20
  448          // ±¸×¢:
  449          //========================================================================
  450          void    P7INT_ISR(void) interrupt 44            //P7.0~P7.7 IOÖÐ¶Ï´¦Àí´úÂë
  451          {
  452   1              u8      i;
  453   1              i = P7INTF;             //¶ÁÈ¡ÖÐ¶Ï±êÖ¾
  454   1              P7INTF &= ~i;   //Çå³ýÖÐ¶Ï±êÖ¾
  455   1      
  456   1              if((i & INTF_0) != 0)   //P7.0ÖÐ¶Ï
  457   1              {
  458   2                      P60 = ~P60;                     //È¡·´P6.0Ö¸Ê¾
  459   2              }
  460   1              if((i & INTF_1) != 0)   //P7.1ÖÐ¶Ï
  461   1              {
  462   2                      P61 = ~P61;                     //È¡·´P6.1Ö¸Ê¾
  463   2              }
  464   1              if((i & INTF_2) != 0)   //P7.2ÖÐ¶Ï
  465   1              {
  466   2                      P62 = ~P62;                     //È¡·´P6.2Ö¸Ê¾
  467   2              }
  468   1              if((i & INTF_3) != 0)   //P7.3ÖÐ¶Ï
  469   1              {
  470   2                      P63 = ~P63;                     //È¡·´P6.3Ö¸Ê¾
  471   2              }
  472   1              if((i & INTF_4) != 0)   //P7.4ÖÐ¶Ï
  473   1              {
  474   2                      P64 = ~P64;                     //È¡·´P6.4Ö¸Ê¾
  475   2              }
  476   1              if((i & INTF_5) != 0)   //P7.5ÖÐ¶Ï
  477   1              {
  478   2                      P65 = ~P65;                     //È¡·´P6.5Ö¸Ê¾
  479   2              }
  480   1              if((i & INTF_6) != 0)   //P7.6ÖÐ¶Ï
  481   1              {
  482   2                      P66 = ~P66;                     //È¡·´P6.6Ö¸Ê¾
  483   2              }
  484   1              if((i & INTF_7) != 0)   //P7.7ÖÐ¶Ï
  485   1              {
  486   2                      P67 = ~P67;                     //È¡·´P6.7Ö¸Ê¾
  487   2              }
  488   1      }
  489          


Module Information          Static   Overlayable
------------------------------------------------
  code size            =       950     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
C251 COMPILER V5.60.0,  gpio_interrupt                                                     19/07/24  17:41:59  PAGE 9   

  hconst size          =    ------     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
